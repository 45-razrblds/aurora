# aurora
# !!! This readme has been generated by Claude 4!
## Technical Overview

Aurora is a client-side RSS reader implemented as a single-page web application using vanilla JavaScript, HTML, and CSS. The application architecture is centered around the `AuroraRSSReader` class, which encapsulates all UI logic, event handling, caching, and feed parsing. Below is a detailed breakdown of its core components and workflow:

### 1. UI Initialization & Event Binding
- On `DOMContentLoaded`, the app instantiates `AuroraRSSReader` and applies the default theme (persisted or light mode).
- Event listeners are attached to UI controls:
  - `loadFeed`: Triggers feed loading and processing pipeline
  - `refreshFeed`: Forces a cache-bypassing reload
  - `themeToggle`: Manages light/dark theme switching
  - RSS URL input: Validates and sanitizes feed URLs
- All DOM elements are referenced using `querySelector` for performance optimization

### 2. Theme Management
- Theme state (light/dark) is toggled via a button and persisted in `localStorage` under the `auroraTheme` key.
- The theme is applied by toggling CSS classes on the `<body>` and the toggle element.

### 3. Feed Loading & Caching
- When a user requests a feed, the app checks an in-memory `Map` cache (populated from `localStorage` on startup) keyed by feed URL.
- If a valid, non-expired cache entry exists (5-minute TTL), it is used; otherwise, the app fetches the feed from the network.
- Fetched feeds are proxied through `https://api.rss2json.com/v1/api.json?rss_url=...` to convert RSS XML to JSON, bypassing CORS and simplifying parsing.
- On successful fetch, the feed data and a timestamp are cached in both memory and `localStorage`.

### 4. Error Handling
- The `CreprusculumErrHandler` class implements a unique error messaging system with categorized error types:
  - Network errors (connectivity, CORS issues)
  - Parsing errors (malformed RSS/JSON)
  - Feed validation (empty/invalid content)
  - Cache operations
  - Date parsing failures
- Each error category has multiple randomized, user-friendly messages for improved UX
- Errors are displayed in a dedicated UI container with appropriate styling
- Console logging is maintained for debugging purposes

### 5. Bad Word Filtering
- The `BadWordFilter` class maintains a `Set` of offensive terms (in English and German) for O(1) lookup performance.
- Uses word boundary splitting (`\b`) for precise word matching and replacement
- Implements family-friendly replacements with themed alternatives like "*butterflies*", "*rainbows*", "*kittens*"
- Filtering is applied to feed titles, descriptions, and article content before rendering
- Case-insensitive matching while preserving original text casing for non-matches

### 6. Feed Rendering
- Feed metadata (title, description) and articles are rendered into the DOM.
- Each article is displayed as a card with a filtered title, truncated/filtered description, publication date (formatted via `toLocaleDateString`), and a link to the original article.
- Clicking an article card (outside the link) can be extended for additional UI interactions.

### 7. Storage & Persistence
- Feed cache uses a dual-layer caching strategy:
  - In-memory `Map` for fast runtime access
  - `localStorage` persistence with `auroraCache` key
- Cache entries are structured as `[url, {data, timestamp}]` pairs
- 5-minute TTL implementation prevents stale data
- Cache serialization/deserialization handles complex JSON structures
- Automatic cache cleanup for expired entries during initialization

### 8. Miscellaneous
- All DOM manipulation is performed using vanilla JS APIs for maximum compatibility and zero dependencies.
- The app is fully static and requires no backend; all logic runs in the browser.

---

For further details, see the inline documentation in `script.js`.
